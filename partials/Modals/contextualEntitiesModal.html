<div class="modal-header">
	<h4 class="modal-title">

		<b class="text-info">Kontext für</b> {{entity.title}}

		<button class="btn pull-right" ng-click="$close()" style="margin-left:4px"><span class="glyphicon glyphicon-remove" style="line-height:inherit"></span></button>
		<button class="btn btn-primary pull-right" ng-click="showFilters = true" ng-hide="showFilters || !searchresults.entities.length">Filter</button>
		
	</h4>
</div>
<div class="breadcrumb" ng-if="searchresults.entities.length">
	<button class="btn btn-xs btn-primary" style="margin-right:2px; margin-top: 3px;"><b>Kontext</b></button>
	<span ng-repeat="facet in activeContextFacets">
		<span class="glyphicon glyphicon-arrow-right" style="top:4px"></span>
		<button class="btn btn-xs btn-default linethrough-hover" ng-click="removeContextFacet(facet)" style="margin-right:2px; margin-top: 3px;"><i> {{facet.name | i18n}}</i> <b style="text-transform:capitalize;">{{facet.value}}</b></button>
	</span>
</div>
<div class="modal-body row">
	<span ng-if="!searchresults.entities.length">lädt...</span>
	

	<div ng-show="showFilters" class="small col-md-3" style="border-right: 1px solid #E5E5E5">
		<h5 class="text-muted uppercase"><b>Filter</b></h5>
		<ul class="list-unstyled facet" ng-repeat="facet in searchresults.facets">
			<button class="btn btn-xs btn-default" ng-click="openfacet =! openfacet" ng-class="{ 'active': openfacet }"><b>{{facet.name | i18n }}</b></button>
			<li ng-click="addFacetToContext(facet.name, facetValue.value)"  ng-repeat="facetValue in facet.values" ng-show="openfacet || facet.name=='facet_hasImage' ">
				<b class="pull-right text-muted">{{facetValue.count}}</b>{{facetValue.value}}
			</li>
		</ul>

	</div>

	<div class="col-md-12" ng-class="{ 'col-md-9': showFilters }">
		
		<div ar-imagegrid
			cells="searchresults.entities | cellsFromEntities:searchresults.offset"
			columns="4"
			margin="4">
			
		</div>

	</div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="$close()">Schließen</button>
</div>
